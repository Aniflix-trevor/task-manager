{"ast":null,"code":"import { FormControl } from \"@angular/forms\";\nimport { startWith } from 'rxjs/operators';\nimport { TaskService } from \"../../../core/services/task.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/task.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../components/task-list/task-list.component\";\nexport let TaskListPageComponent = /*#__PURE__*/(() => {\n  class TaskListPageComponent {\n    constructor(taskService) {\n      this.taskService = taskService;\n      // Use non-nullable FormControls so valueChanges emits concrete types (no null)\n      this.statusControl = new FormControl(\"all\", {\n        nonNullable: true\n      });\n      this.searchControl = new FormControl(\"\", {\n        nonNullable: true\n      });\n    }\n    ngOnInit() {\n      // Delegate filtering logic to TaskService\n      this.filtered$ = this.taskService.filteredTasks(this.statusControl.valueChanges.pipe(startWith(this.statusControl.value ?? 'all')), this.searchControl.valueChanges.pipe(startWith(this.searchControl.value ?? '')));\n    }\n    static {\n      this.ɵfac = function TaskListPageComponent_Factory(t) {\n        return new (t || TaskListPageComponent)(i0.ɵɵdirectiveInject(i1.TaskService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: TaskListPageComponent,\n        selectors: [[\"app-task-list-page\"]],\n        decls: 16,\n        vars: 3,\n        consts: [[1, \"card\"], [1, \"controls\"], [3, \"formControl\"], [\"value\", \"all\"], [\"value\", \"todo\"], [\"value\", \"in-progress\"], [\"value\", \"done\"], [\"placeholder\", \"Search by title\", 3, \"formControl\"], [\"routerLink\", \"/tasks/new\"], [1, \"btn-primary\"], [3, \"tasks$\"]],\n        template: function TaskListPageComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"select\", 2)(3, \"option\", 3);\n            i0.ɵɵtext(4, \"All\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"option\", 4);\n            i0.ɵɵtext(6, \"To Do\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"option\", 5);\n            i0.ɵɵtext(8, \"In Progress\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"option\", 6);\n            i0.ɵɵtext(10, \"Done\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(11, \"input\", 7);\n            i0.ɵɵelementStart(12, \"a\", 8)(13, \"button\", 9);\n            i0.ɵɵtext(14, \"New Task\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelement(15, \"app-task-list\", 10);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"formControl\", ctx.statusControl);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"formControl\", ctx.searchControl);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"tasks$\", ctx.filtered$);\n          }\n        },\n        dependencies: [i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.FormControlDirective, i3.RouterLink, i4.TaskListComponent],\n        encapsulation: 2\n      });\n    }\n  }\n  return TaskListPageComponent;\n})();","map":{"version":3,"names":["FormControl","startWith","TaskService","TaskListPageComponent","constructor","taskService","statusControl","nonNullable","searchControl","ngOnInit","filtered$","filteredTasks","valueChanges","pipe","value","i0","ɵɵdirectiveInject","i1","selectors","decls","vars","consts","template","TaskListPageComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["/home/aniflix/Development/code/se-prep/aiproj/task/task-manager/src/app/tasks/pages/task-list-page/task-list-page.component.ts"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { FormControl } from \"@angular/forms\";\nimport { Observable } from \"rxjs\";\nimport { startWith } from 'rxjs/operators';\nimport { Task, TaskStatus } from \"../../../core/models/task.model\";\nimport { TaskService } from \"../../../core/services/task.service\";\n\n@Component({\n  selector: \"app-task-list-page\",\n  template: `\n    <div class=\"card\">\n      <div class=\"controls\">\n        <select [formControl]=\"statusControl\">\n          <option value=\"all\">All</option>\n          <option value=\"todo\">To Do</option>\n          <option value=\"in-progress\">In Progress</option>\n          <option value=\"done\">Done</option>\n        </select>\n        <input [formControl]=\"searchControl\" placeholder=\"Search by title\" />\n        <a routerLink=\"/tasks/new\"><button class=\"btn-primary\">New Task</button></a>\n      </div>\n    </div>\n\n    <app-task-list [tasks$]=\"filtered$\"></app-task-list>\n  `,\n})\nexport class TaskListPageComponent implements OnInit {\n  // Use non-nullable FormControls so valueChanges emits concrete types (no null)\n  statusControl = new FormControl<\"all\" | TaskStatus>(\"all\", { nonNullable: true });\n  searchControl = new FormControl<string>(\"\", { nonNullable: true });\n\n  filtered$!: Observable<Task[]>;\n\n  constructor(private taskService: TaskService) {}\n\n  ngOnInit(): void {\n    // Delegate filtering logic to TaskService\n    this.filtered$ = this.taskService.filteredTasks(\n      this.statusControl.valueChanges.pipe(startWith(this.statusControl.value ?? 'all')),\n      this.searchControl.valueChanges.pipe(startWith(this.searchControl.value ?? ''))\n    );\n  }\n}\n"],"mappings":"AACA,SAASA,WAAW,QAAQ,gBAAgB;AAE5C,SAASC,SAAS,QAAQ,gBAAgB;AAE1C,SAASC,WAAW,QAAQ,qCAAqC;;;;;;AAqBjE,WAAaC,qBAAqB;EAA5B,MAAOA,qBAAqB;IAOhCC,YAAoBC,WAAwB;MAAxB,KAAAA,WAAW,GAAXA,WAAW;MAN/B;MACA,KAAAC,aAAa,GAAG,IAAIN,WAAW,CAAqB,KAAK,EAAE;QAAEO,WAAW,EAAE;MAAI,CAAE,CAAC;MACjF,KAAAC,aAAa,GAAG,IAAIR,WAAW,CAAS,EAAE,EAAE;QAAEO,WAAW,EAAE;MAAI,CAAE,CAAC;IAInB;IAE/CE,QAAQA,CAAA;MACN;MACA,IAAI,CAACC,SAAS,GAAG,IAAI,CAACL,WAAW,CAACM,aAAa,CAC7C,IAAI,CAACL,aAAa,CAACM,YAAY,CAACC,IAAI,CAACZ,SAAS,CAAC,IAAI,CAACK,aAAa,CAACQ,KAAK,IAAI,KAAK,CAAC,CAAC,EAClF,IAAI,CAACN,aAAa,CAACI,YAAY,CAACC,IAAI,CAACZ,SAAS,CAAC,IAAI,CAACO,aAAa,CAACM,KAAK,IAAI,EAAE,CAAC,CAAC,CAChF;IACH;;;yBAfWX,qBAAqB,EAAAY,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAf,WAAA;MAAA;IAAA;;;cAArBC,qBAAqB;QAAAe,SAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,QAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;UAAA,IAAAD,EAAA;YAhB9BT,EAAA,CAAAW,cAAA,aAAkB;YAGQX,EAAA,CAAAY,MAAA,UAAG;YAAAZ,EAAA,CAAAa,YAAA,EAAS;YAChCb,EAAA,CAAAW,cAAA,gBAAqB;YAAAX,EAAA,CAAAY,MAAA,YAAK;YAAAZ,EAAA,CAAAa,YAAA,EAAS;YACnCb,EAAA,CAAAW,cAAA,gBAA4B;YAAAX,EAAA,CAAAY,MAAA,kBAAW;YAAAZ,EAAA,CAAAa,YAAA,EAAS;YAChDb,EAAA,CAAAW,cAAA,gBAAqB;YAAAX,EAAA,CAAAY,MAAA,YAAI;YAAAZ,EAAA,CAAAa,YAAA,EAAS;YAEpCb,EAAA,CAAAc,SAAA,gBAAqE;YACrEd,EAAA,CAAAW,cAAA,YAA2B;YAA4BX,EAAA,CAAAY,MAAA,gBAAQ;YAAAZ,EAAA,CAAAa,YAAA,EAAS;YAI5Eb,EAAA,CAAAc,SAAA,yBAAoD;;;YAXxCd,EAAA,CAAAe,SAAA,GAA6B;YAA7Bf,EAAA,CAAAgB,UAAA,gBAAAN,GAAA,CAAAnB,aAAA,CAA6B;YAM9BS,EAAA,CAAAe,SAAA,GAA6B;YAA7Bf,EAAA,CAAAgB,UAAA,gBAAAN,GAAA,CAAAjB,aAAA,CAA6B;YAKzBO,EAAA,CAAAe,SAAA,GAAoB;YAApBf,EAAA,CAAAgB,UAAA,WAAAN,GAAA,CAAAf,SAAA,CAAoB;;;;;;;;SAG1BP,qBAAqB;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}